---
import type { CollectionEntry } from 'astro:content';
import { Image } from 'astro:assets';

interface Props {
  entry: CollectionEntry<'posts'>;
}

const { entry } = Astro.props;
---

<li class="py-2">
  <a href={`/writing/${entry.id}`} class="flex gap-4 group">
    {entry.data.image && (
      <div class="relative w-28 h-20 shrink-0 rounded-lg overflow-hidden">
        <Image
          src={entry.data.image}
          alt={entry.data.title}
          class="w-full h-full object-cover transition-transform group-hover:scale-105"
          width={112}
          height={80}
        />
      </div>
    )}
    <div class="flex flex-col gap-1">
      <span class="text-headings font-medium group-hover:underline">{entry.data.title}</span>
      {entry.data.seo?.description && (
        <span class="text-muted-foreground text-sm line-clamp-2">{entry.data.seo.description}</span>
      )}
    </div>
  </a>
</li>
